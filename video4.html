<html>

<head>
  <!-- AR.js by @jerome_etienne - github: https://github.com/jeromeetienne/ar.js - info: https://medium.com/arjs/augmented-reality-in-10-lines-of-html-4e193ea9fdbf -->
  <script src="vendor/aframe.min.js"></script>
  <script src="vendor/aframe-ar.js"></script>
  <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.8.4/dist/aframe-extras.min.js"></script>
  <script src="https://rawgit.com/mayognaise/aframe-gif-shader/master/dist/aframe-gif-shader.min.js"></script>

<script>

var scene
var AR-Object01
var AR-Object02
var AR-VideoScreen

AFRAME.registerComponent('markerhandler', {

  init: function() {

    // Set up the tick throttling. Will check if marker is active every 500ms
    this.tick = AFRAME.utils.throttleTick(this.tick, 500, this);
  },

  tick: function(t, dt) {

    if (document.querySelector("#hiroMarker").object3D.visible == true && playing == false) {
      // MARKER IS PRESENT
      //alert("MARKER IS PRESENT")

  		scene = document.querySelector('#a-scene');
  	  AR-Object01 = document.querySelector('#Object01');
    	AR-Object02 = document.querySelector('#Object02');
      AR-VideoScreen =  document.querySelector('#videoScreen');

      AR-Object01.addEventListener('click', function () { console.log("object01 clickable in AR") });
      AR-Object02.addEventListener('click', function () { console.log("object02 clickable in AR") });
      videoScreen.addEventListener('click', function () { playPauseVideo(); console.log("Video Play Toggle") });
      playing = true;

    }

    }else {
      // MARKER IS HIDDEN, do nothing (up to you)
    }

});

function playPauseVideo(){

if (video.paused)
    video.play();
  else
    video.pause();
}


</script>
  
<body style='margin : 0px; overflow: hidden;'>

<a-scene id="a-scene" cursor="rayOrigin: mouse" embedded arjs="sourceType:webcam; maxDetectionRate:30; debugUiEnabled:false;">

    <a-assets>

      <video id="video" loop="true" src="assets/video_small.mp4" webkit-playsinline>

   </a-assets>

   <a-marker preset='hiro' markerhandler emitevents="true" id="hiroMarker">

<!--
    <a-entity id="AR-Object01" (info about this object)></a-entity>
    <a-entity id="AR-Object02" (info about this object)></a-entity>
-->
    <a-video id="videoScreen" src="#video" width="16" height="9" autoplay=true></a-video>

   </a-marker>

<a-entity camera></a-entity>

</a-scene>
  
</body>

</html>